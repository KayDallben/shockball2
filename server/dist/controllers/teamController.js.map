{"version":3,"sources":["../../src/controllers/teamController.js"],"names":["TeamController","db","logger","teams","collection","req","res","validation","validate","params","listOneParams","error","doc","id","get","then","status","send","data"],"mappings":";;;;;;qjBAAA;;;AAGA;;;AAFA;;;;AAGA;;;;;;;;;;IAEMA,c;AAEJ,0BAAYC,EAAZ,EAAgBC,MAAhB,EAAwB;AAAA;;AACtB,SAAKC,KAAL,GAAaF,GAAGG,UAAH,CAAc,OAAd,CAAb;AACA,SAAKF,MAAL,GAAcA,MAAd;AACD;;;;;0FAEaG,G,EAAKC,G;;;;;;AACXC,0B,GAAa,cAAIC,QAAJ,CAAaH,IAAII,MAAjB,EAAyB,eAAWC,aAApC,C;;sBACfH,WAAWI,KAAX,KAAqB,I;;;;;;;uBAEf,KAAKR,KAAL,CAAWS,GAAX,CAAeP,IAAII,MAAJ,CAAWI,EAA1B,EAA8BC,GAA9B,GAAoCC,IAApC,CAAyC,UAACH,GAAD,EAAS;AACtDN,sBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAAIM,IAAJ,EAArB;AACD,iBAFK,C;;;;;;;;;;AAIN,qBAAKhB,MAAL,CAAYS,KAAZ;AACAL,oBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB;;;;;;;AAGF,qBAAKf,MAAL,CAAYS,KAAZ,CAAkB,2BAA2BJ,WAAWI,KAAxD;AACAL,oBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,WAAWI,KAAhC;;;;;;;;;;;;;;;;;;;;;kBAMSX,c","file":"teamController.js","sourcesContent":["//third party\r\nimport Joi from 'joi'\r\n\r\n//internal\r\nimport TeamSchema from '../models/Team.js'\r\n\r\nclass TeamController {\r\n\r\n  constructor(db, logger) {\r\n    this.teams = db.collection('teams')\r\n    this.logger = logger\r\n  }\r\n\r\n  async listOne(req, res) {\r\n    const validation = Joi.validate(req.params, TeamSchema.listOneParams)\r\n    if (validation.error === null) {\r\n      try {\r\n        await this.teams.doc(req.params.id).get().then((doc) => {\r\n          res.status(200).send(doc.data())\r\n        })\r\n      } catch (error) {\r\n        this.logger.error(error)\r\n        res.status(400).send(error)\r\n      }\r\n    } else {\r\n      this.logger.error('Joi validation error: ' + validation.error)\r\n      res.status(400).send(validation.error)\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default TeamController\r\n"]}
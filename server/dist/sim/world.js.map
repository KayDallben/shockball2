{"version":3,"sources":["../../src/sim/world.js"],"names":["util","World","objects","leftPlayers","leftBench","rightPlayers","rightBench","object","getType","push","filter","worldObject","shockballPlayerUid","homeGoalSide","leftPlayer","rightPlayer","update","oldRightPlayers","oldRightBench","oldLeftPlayers","oldLeftBench"],"mappings":";;;;;;;;AAAA;;;;;;;;AACA,IAAMA,OAAO,oBAAb;;IAEqBC,K;AACnB,mBAAc;AAAA;;AACb,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA;;;;6BAEQC,M,EAAQ;AACf,UAAIP,KAAKQ,OAAL,CAAaD,MAAb,MAAyB,iBAA7B,EAAgD;AAC9C,aAAKL,OAAL,CAAaO,IAAb,CAAkBF,MAAlB;AACD;AACF;;;qCAEgBA,M,EAAQ;AACvB,WAAKL,OAAL,GAAe,KAAKA,OAAL,CAAaQ,MAAb,CAAoB,UAASC,WAAT,EAAsB;AACvD,eAAOA,YAAYC,kBAAZ,KAAmCL,OAAOK,kBAAjD;AACD,OAFc,CAAf;AAGA,UAAIL,OAAOM,YAAP,KAAwB,MAA5B,EAAoC;AAClC,aAAKV,WAAL,GAAmB,KAAKA,WAAL,CAAiBO,MAAjB,CAAwB,UAASI,UAAT,EAAqB;AAC9D,iBAAOA,WAAWF,kBAAX,KAAkCL,OAAOK,kBAAhD;AACD,SAFkB,CAAnB;AAGD,OAJD,MAIO;AACL,aAAKP,YAAL,GAAoB,KAAKA,YAAL,CAAkBK,MAAlB,CAAyB,UAASK,WAAT,EAAsB;AACjE,iBAAOA,YAAYH,kBAAZ,KAAmCL,OAAOK,kBAAjD;AACD,SAFmB,CAApB;AAGD;AACF;;;6BAEQ;AAAA;AAAA;AAAA;;AAAA;AACP,6BAAwB,KAAKV,OAA7B,8HAAsC;AAAA,cAA7BS,WAA6B;;AACpC,cAAIA,YAAYK,MAAhB,EAAwB;AACtBL,wBAAYK,MAAZ;AACD;AACF;AALM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMR;;;kCAEa;AACZ,UAAMC,kBAAkB,KAAKZ,YAA7B;AACA,UAAMa,gBAAgB,KAAKZ,UAA3B;AACA,UAAMa,iBAAiB,KAAKhB,WAA5B;AACA,UAAMiB,eAAe,KAAKhB,SAA1B;;AAEA,WAAKC,YAAL,GAAoBc,cAApB;AACA,WAAKb,UAAL,GAAkBc,YAAlB;AACA,WAAKjB,WAAL,GAAmBc,eAAnB;AACA,WAAKb,SAAL,GAAiBc,aAAjB;AACD;;;;;;kBAhDkBjB,K","file":"world.js","sourcesContent":["import Util from './util'\r\nconst util = new Util()\r\n\r\nexport default class World {\r\n  constructor() {\r\n   this.objects = []\r\n   this.leftPlayers = []\r\n   this.leftBench = []\r\n   this.rightPlayers = []\r\n   this.rightBench = []\r\n  }\r\n\r\n  register(object) {\r\n    if (util.getType(object) === '[object Object]') {\r\n      this.objects.push(object)\r\n    }\r\n  }\r\n\r\n  playerDeregister(object) {\r\n    this.objects = this.objects.filter(function(worldObject) {\r\n      return worldObject.shockballPlayerUid !== object.shockballPlayerUid;\r\n    })\r\n    if (object.homeGoalSide === 'left') {\r\n      this.leftPlayers = this.leftPlayers.filter(function(leftPlayer) {\r\n        return leftPlayer.shockballPlayerUid !== object.shockballPlayerUid\r\n      })\r\n    } else {\r\n      this.rightPlayers = this.rightPlayers.filter(function(rightPlayer) {\r\n        return rightPlayer.shockballPlayerUid !== object.shockballPlayerUid\r\n      })\r\n    }\r\n  }\r\n\r\n  update() {\r\n    for (let worldObject of this.objects) {\r\n      if (worldObject.update) {\r\n        worldObject.update()\r\n      }\r\n    }\r\n  }\r\n\r\n  switchSides() {\r\n    const oldRightPlayers = this.rightPlayers\r\n    const oldRightBench = this.rightBench\r\n    const oldLeftPlayers = this.leftPlayers\r\n    const oldLeftBench = this.leftBench\r\n\r\n    this.rightPlayers = oldLeftPlayers\r\n    this.rightBench = oldLeftBench\r\n    this.leftPlayers = oldRightPlayers\r\n    this.leftBench = oldRightBench\r\n  }\r\n\r\n}"]}